(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const y=document.querySelectorAll(".reveal"),m=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),m.unobserve(t.target))})},{threshold:.2});y.forEach((e,t)=>{e.style.transitionDelay=`${t*.1}s`,m.observe(e)});const d=document.querySelector(".contact-form");d&&d.addEventListener("submit",e=>{e.preventDefault(),d.reset(),alert("Danke! Wir melden uns zeitnah bei Ihnen.")});const g=document.querySelectorAll("[data-modal]"),p=document.querySelectorAll(".modal"),u=e=>{e.classList.remove("is-open"),e.setAttribute("aria-hidden","true")},v=e=>{e.classList.add("is-open"),e.setAttribute("aria-hidden","false")};g.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-modal"),s=document.getElementById(t);s&&v(s)})});p.forEach(e=>{e.addEventListener("click",s=>{s.target===e&&u(e)});const t=e.querySelector(".modal-close");t&&t.addEventListener("click",()=>u(e))});document.addEventListener("keydown",e=>{e.key==="Escape"&&p.forEach(t=>u(t))});const E=document.querySelectorAll("[data-carousel]");E.forEach(e=>{const t=e.querySelector(".carousel-track"),s=e.querySelector(".carousel-viewport"),c=Array.from(t.children);let r=0;const o=()=>{const n=getComputedStyle(t);return parseFloat(n.columnGap||n.gap||"0")},i=(n,a)=>{const l=s.getBoundingClientRect().width;return Math.max(1,Math.floor((l+a)/(n+a)))},f=()=>{const n=c[0].getBoundingClientRect().width,a=o(),l=i(n,a),h=Math.max(0,c.length-l);r=Math.min(r,h),t.style.transform=`translateX(${-(n+a)*r}px)`};window.addEventListener("resize",f),f()});
